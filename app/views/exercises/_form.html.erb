
<%= form_for [@workout, @exercise]  do |f| %>
    
    <div class="row">
        <div class="col">
            <%= f.label :name, :class => 'form-label' %>
            <%= f.text_field :name, :required => true, :placeholder => "Create name or select existing exercise", :class => 'form-control mb-3' %>
        </div>
        <div class="col">
            <p>Select for an existing exercise</p>
            <%= select_tag "exercises", raw('<option></option><option>' + @current_user.exercises.pluck(:name).uniq.join('</option> <option>') + '</option>'), :class => 'form-select'%>
        </div>
    </div>

    <script>
    $('select').on('change', function(){
        const value = $(this).val()
        $('#exercise_name').val(value)
    })    
    </script>

    <%= f.label :weight, :class => 'form-label' %>
    <%= f.number_field :weight, :placeholder => "in kilograms", :class => 'form-control w-50 mb-3' %>

    <%= f.label :repetitions, :class => 'form-label' %>
    <%= f.number_field :repetitions, :class => 'form-control w-50' %>

    <%= f.label :sets, :class => 'form-label' %>
    <%= f.number_field :sets, :class => 'form-control w-50' %>

    <%= f.label :distance, :class => 'form-label' %>
    <%= f.number_field :distance, :placeholder => "in kilometers", :class => 'form-control w-50 mb-3' %>

    <%= f.label :duration, :class => 'form-label' %>
    <%= f.number_field :duration, :placeholder => "in minutes", :class => 'form-control w-50 mb-3' %>

    <%= f.submit "Create", :class => "btn btn-success mt-2 w-50" %>
<% end %>
